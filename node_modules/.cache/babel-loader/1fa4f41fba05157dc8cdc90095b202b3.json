{"ast":null,"code":"var _jsxFileName = \"/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/EmailVerificationPage/EmailVerificationForm/EmailVerificationForm.js\";\nimport React from 'react';\nimport { bool } from 'prop-types';\nimport { compose } from 'redux';\nimport { Form as FinalForm, Field } from 'react-final-form';\nimport { FormattedMessage, injectIntl } from '../../../util/reactIntl';\nimport { propTypes } from '../../../util/types';\nimport { Form, NamedLink, IconEmailAttention, IconEmailSuccess, PrimaryButton } from '../../../components';\nimport css from './EmailVerificationForm.module.css';\n\nconst EmailVerificationFormComponent = props => /*#__PURE__*/React.createElement(FinalForm, Object.assign({}, props, {\n  render: formRenderProps => {\n    const {\n      currentUser,\n      inProgress,\n      handleSubmit,\n      verificationError\n    } = formRenderProps;\n    const {\n      email,\n      emailVerified,\n      pendingEmail,\n      profile\n    } = currentUser.attributes;\n    const emailToVerify = /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 29\n      }\n    }, pendingEmail || email);\n    const name = profile.firstName;\n    const errorMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: css.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.verificationFailed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }));\n    const submitInProgress = inProgress;\n    const submitDisabled = submitInProgress;\n    const verifyEmail = /*#__PURE__*/React.createElement(\"div\", {\n      className: css.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconEmailAttention, {\n      className: css.modalIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: css.modalTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.verifyEmailAddress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.modalMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.finishAccountSetup\",\n      values: {\n        email: emailToVerify\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    })), verificationError ? errorMessage : null), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      component: \"input\",\n      type: \"hidden\",\n      name: \"verificationToken\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.bottomWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PrimaryButton, {\n      type: \"submit\",\n      inProgress: submitInProgress,\n      disabled: submitDisabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, inProgress ? /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.verifying\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.verify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    })))));\n    const alreadyVerified = /*#__PURE__*/React.createElement(\"div\", {\n      className: css.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconEmailSuccess, {\n      className: css.modalIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: css.modalTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.successTitle\",\n      values: {\n        name\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.modalMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.successText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.bottomWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NamedLink, {\n      className: css.submitButton,\n      name: \"LandingPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.successButtonText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }))));\n    const currentEmail = /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 28\n      }\n    }, email);\n    const alreadyVerifiedButErrorReturned = /*#__PURE__*/React.createElement(\"div\", {\n      className: css.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconEmailSuccess, {\n      className: css.modalIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: css.modalTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.noPendingTitle\",\n      values: {\n        name\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.modalMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.noPendingText\",\n      values: {\n        email: currentEmail,\n        breakline: /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 59\n          }\n        })\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.bottomWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NamedLink, {\n      className: css.submitButton,\n      name: \"LandingPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"EmailVerificationForm.successButtonText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }))));\n    const anyPendingEmailHasBeenVerifiedForCurrentUser = emailVerified && !pendingEmail;\n    return anyPendingEmailHasBeenVerifiedForCurrentUser && verificationError ? alreadyVerifiedButErrorReturned : anyPendingEmailHasBeenVerifiedForCurrentUser ? alreadyVerified : verifyEmail;\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 3\n  }\n}));\n\n_c = EmailVerificationFormComponent;\nEmailVerificationFormComponent.defaultProps = {\n  currentUser: null,\n  inProgress: false,\n  verificationError: null\n};\nEmailVerificationFormComponent.propTypes = {\n  inProgress: bool,\n  currentUser: propTypes.currentUser.isRequired,\n  verificationError: propTypes.error\n};\nconst EmailVerificationForm = compose(injectIntl)(EmailVerificationFormComponent);\nexport default EmailVerificationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailVerificationFormComponent\");","map":{"version":3,"sources":["/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/EmailVerificationPage/EmailVerificationForm/EmailVerificationForm.js"],"names":["React","bool","compose","Form","FinalForm","Field","FormattedMessage","injectIntl","propTypes","NamedLink","IconEmailAttention","IconEmailSuccess","PrimaryButton","css","EmailVerificationFormComponent","props","formRenderProps","currentUser","inProgress","handleSubmit","verificationError","email","emailVerified","pendingEmail","profile","attributes","emailToVerify","name","firstName","errorMessage","error","submitInProgress","submitDisabled","verifyEmail","root","modalIcon","modalTitle","modalMessage","bottomWrapper","alreadyVerified","submitButton","currentEmail","alreadyVerifiedButErrorReturned","breakline","anyPendingEmailHasBeenVerifiedForCurrentUser","defaultProps","isRequired","EmailVerificationForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { bool } from 'prop-types';\nimport { compose } from 'redux';\nimport { Form as FinalForm, Field } from 'react-final-form';\n\nimport { FormattedMessage, injectIntl } from '../../../util/reactIntl';\nimport { propTypes } from '../../../util/types';\nimport {\n  Form,\n  NamedLink,\n  IconEmailAttention,\n  IconEmailSuccess,\n  PrimaryButton,\n} from '../../../components';\n\nimport css from './EmailVerificationForm.module.css';\n\nconst EmailVerificationFormComponent = props => (\n  <FinalForm\n    {...props}\n    render={formRenderProps => {\n      const { currentUser, inProgress, handleSubmit, verificationError } = formRenderProps;\n\n      const { email, emailVerified, pendingEmail, profile } = currentUser.attributes;\n      const emailToVerify = <strong>{pendingEmail || email}</strong>;\n      const name = profile.firstName;\n\n      const errorMessage = (\n        <div className={css.error}>\n          <FormattedMessage id=\"EmailVerificationForm.verificationFailed\" />\n        </div>\n      );\n\n      const submitInProgress = inProgress;\n      const submitDisabled = submitInProgress;\n\n      const verifyEmail = (\n        <div className={css.root}>\n          <div>\n            <IconEmailAttention className={css.modalIcon} />\n            <h1 className={css.modalTitle}>\n              <FormattedMessage id=\"EmailVerificationForm.verifyEmailAddress\" />\n            </h1>\n\n            <p className={css.modalMessage}>\n              <FormattedMessage\n                id=\"EmailVerificationForm.finishAccountSetup\"\n                values={{ email: emailToVerify }}\n              />\n            </p>\n\n            {verificationError ? errorMessage : null}\n          </div>\n\n          <Form onSubmit={handleSubmit}>\n            <Field component=\"input\" type=\"hidden\" name=\"verificationToken\" />\n\n            <div className={css.bottomWrapper}>\n              <PrimaryButton type=\"submit\" inProgress={submitInProgress} disabled={submitDisabled}>\n                {inProgress ? (\n                  <FormattedMessage id=\"EmailVerificationForm.verifying\" />\n                ) : (\n                  <FormattedMessage id=\"EmailVerificationForm.verify\" />\n                )}\n              </PrimaryButton>\n            </div>\n          </Form>\n        </div>\n      );\n\n      const alreadyVerified = (\n        <div className={css.root}>\n          <div>\n            <IconEmailSuccess className={css.modalIcon} />\n            <h1 className={css.modalTitle}>\n              <FormattedMessage id=\"EmailVerificationForm.successTitle\" values={{ name }} />\n            </h1>\n\n            <p className={css.modalMessage}>\n              <FormattedMessage id=\"EmailVerificationForm.successText\" />\n            </p>\n          </div>\n\n          <div className={css.bottomWrapper}>\n            <NamedLink className={css.submitButton} name=\"LandingPage\">\n              <FormattedMessage id=\"EmailVerificationForm.successButtonText\" />\n            </NamedLink>\n          </div>\n        </div>\n      );\n\n      const currentEmail = <strong>{email}</strong>;\n      const alreadyVerifiedButErrorReturned = (\n        <div className={css.root}>\n          <div>\n            <IconEmailSuccess className={css.modalIcon} />\n            <h1 className={css.modalTitle}>\n              <FormattedMessage id=\"EmailVerificationForm.noPendingTitle\" values={{ name }} />\n            </h1>\n\n            <p className={css.modalMessage}>\n              <FormattedMessage\n                id=\"EmailVerificationForm.noPendingText\"\n                values={{ email: currentEmail, breakline: <br /> }}\n              />\n            </p>\n          </div>\n\n          <div className={css.bottomWrapper}>\n            <NamedLink className={css.submitButton} name=\"LandingPage\">\n              <FormattedMessage id=\"EmailVerificationForm.successButtonText\" />\n            </NamedLink>\n          </div>\n        </div>\n      );\n\n      const anyPendingEmailHasBeenVerifiedForCurrentUser = emailVerified && !pendingEmail;\n      return anyPendingEmailHasBeenVerifiedForCurrentUser && verificationError\n        ? alreadyVerifiedButErrorReturned\n        : anyPendingEmailHasBeenVerifiedForCurrentUser\n        ? alreadyVerified\n        : verifyEmail;\n    }}\n  />\n);\n\nEmailVerificationFormComponent.defaultProps = {\n  currentUser: null,\n  inProgress: false,\n  verificationError: null,\n};\n\nEmailVerificationFormComponent.propTypes = {\n  inProgress: bool,\n  currentUser: propTypes.currentUser.isRequired,\n  verificationError: propTypes.error,\n};\n\nconst EmailVerificationForm = compose(injectIntl)(EmailVerificationFormComponent);\n\nexport default EmailVerificationForm;\n"]},"metadata":{},"sourceType":"module"}