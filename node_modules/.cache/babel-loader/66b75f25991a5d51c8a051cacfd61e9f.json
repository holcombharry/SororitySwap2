{"ast":null,"code":"var _jsxFileName = \"/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/EditListingPage/EditListingWizard/EditListingDetailsPanel/EditListingDetailsPanel.js\";\nimport React from 'react';\nimport { bool, func, object, string } from 'prop-types';\nimport classNames from 'classnames'; // Import configs and util modules\n\nimport { FormattedMessage } from '../../../../util/reactIntl';\nimport { ensureOwnListing } from '../../../../util/data';\nimport { LISTING_STATE_DRAFT } from '../../../../util/types'; // Import shared components\n\nimport { ListingLink } from '../../../../components'; // Import modules from this directory\n\nimport EditListingDetailsForm from './EditListingDetailsForm';\nimport css from './EditListingDetailsPanel.module.css';\n\nconst EditListingDetailsPanel = props => {\n  const {\n    className,\n    rootClassName,\n    listing,\n    disabled,\n    ready,\n    onSubmit,\n    onChange,\n    submitButtonText,\n    panelUpdated,\n    updateInProgress,\n    errors\n  } = props;\n  const classes = classNames(rootClassName || css.root, className);\n  const currentListing = ensureOwnListing(listing);\n  const {\n    description,\n    title,\n    publicData\n  } = currentListing.attributes;\n  const isPublished = currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n  const panelTitle = isPublished ? /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"EditListingDetailsPanel.title\",\n    values: {\n      listingTitle: /*#__PURE__*/React.createElement(ListingLink, {\n        listing: listing,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 31\n        }\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"EditListingDetailsPanel.createListingTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: css.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, panelTitle), /*#__PURE__*/React.createElement(EditListingDetailsForm, {\n    className: css.form,\n    initialValues: {\n      title,\n      description,\n      category: publicData.category,\n      size: publicData.size,\n      brand: publicData.brand\n    },\n    saveActionMsg: submitButtonText,\n    onSubmit: values => {\n      const {\n        title,\n        description,\n        category,\n        size,\n        brand\n      } = values;\n      const updateValues = {\n        title: title.trim(),\n        description,\n        publicData: {\n          category,\n          size,\n          brand\n        }\n      };\n      onSubmit(updateValues);\n    },\n    onChange: onChange,\n    disabled: disabled,\n    ready: ready,\n    updated: panelUpdated,\n    updateInProgress: updateInProgress,\n    fetchErrors: errors,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n};\n\n_c = EditListingDetailsPanel;\nEditListingDetailsPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  errors: null,\n  listing: null\n};\nEditListingDetailsPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n  disabled: bool.isRequired,\n  ready: bool.isRequired,\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  errors: object.isRequired\n};\nexport default EditListingDetailsPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditListingDetailsPanel\");","map":{"version":3,"sources":["/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/EditListingPage/EditListingWizard/EditListingDetailsPanel/EditListingDetailsPanel.js"],"names":["React","bool","func","object","string","classNames","FormattedMessage","ensureOwnListing","LISTING_STATE_DRAFT","ListingLink","EditListingDetailsForm","css","EditListingDetailsPanel","props","className","rootClassName","listing","disabled","ready","onSubmit","onChange","submitButtonText","panelUpdated","updateInProgress","errors","classes","root","currentListing","description","title","publicData","attributes","isPublished","id","state","panelTitle","listingTitle","form","category","size","brand","values","updateValues","trim","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { bool, func, object, string } from 'prop-types';\nimport classNames from 'classnames';\n\n// Import configs and util modules\nimport { FormattedMessage } from '../../../../util/reactIntl';\nimport { ensureOwnListing } from '../../../../util/data';\nimport { LISTING_STATE_DRAFT } from '../../../../util/types';\n\n// Import shared components\nimport { ListingLink } from '../../../../components';\n\n// Import modules from this directory\nimport EditListingDetailsForm from './EditListingDetailsForm';\nimport css from './EditListingDetailsPanel.module.css';\n\nconst EditListingDetailsPanel = props => {\n  const {\n    className,\n    rootClassName,\n    listing,\n    disabled,\n    ready,\n    onSubmit,\n    onChange,\n    submitButtonText,\n    panelUpdated,\n    updateInProgress,\n    errors,\n  } = props;\n\n  const classes = classNames(rootClassName || css.root, className);\n  const currentListing = ensureOwnListing(listing);\n  const { description, title, publicData } = currentListing.attributes;\n\n  const isPublished = currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n  const panelTitle = isPublished ? (\n    <FormattedMessage\n      id=\"EditListingDetailsPanel.title\"\n      values={{ listingTitle: <ListingLink listing={listing} /> }}\n    />\n  ) : (\n    <FormattedMessage id=\"EditListingDetailsPanel.createListingTitle\" />\n  );\n\n  return (\n    <div className={classes}>\n      <h1 className={css.title}>{panelTitle}</h1>\n      <EditListingDetailsForm\n        className={css.form}\n        initialValues={{\n          title,\n          description,\n          category: publicData.category,\n          size: publicData.size,\n          brand: publicData.brand,\n        }}\n        saveActionMsg={submitButtonText}\n        onSubmit={values => {\n          const { title, description, category, size, brand } = values;\n          const updateValues = {\n            title: title.trim(),\n            description,\n            publicData: { category, size, brand },\n          };\n\n          onSubmit(updateValues);\n        }}\n        onChange={onChange}\n        disabled={disabled}\n        ready={ready}\n        updated={panelUpdated}\n        updateInProgress={updateInProgress}\n        fetchErrors={errors}\n        autoFocus\n      />\n    </div>\n  );\n};\n\nEditListingDetailsPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  errors: null,\n  listing: null,\n};\n\nEditListingDetailsPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n\n  disabled: bool.isRequired,\n  ready: bool.isRequired,\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  errors: object.isRequired,\n};\n\nexport default EditListingDetailsPanel;\n"]},"metadata":{},"sourceType":"module"}