{"ast":null,"code":"var _jsxFileName = \"/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/ListingPage/SectionImages.js\";\nimport React from 'react';\nimport config from '../../config';\nimport { FormattedMessage } from '../../util/reactIntl';\nimport { AspectRatioWrapper, ResponsiveImage, Modal } from '../../components';\nimport ImageCarousel from './ImageCarousel/ImageCarousel';\nimport ActionBarMaybe from './ActionBarMaybe';\nimport css from './ListingPage.module.css';\n\nconst SectionImages = props => {\n  var _firstImage$attribute;\n\n  const {\n    title,\n    listing,\n    isOwnListing,\n    editParams,\n    handleViewPhotosClick,\n    imageCarouselOpen,\n    onImageCarouselClose,\n    onManageDisableScrolling\n  } = props;\n  const hasImages = listing.images && listing.images.length > 0;\n  const firstImage = hasImages ? listing.images[0] : null;\n  const {\n    aspectWidth,\n    aspectHeight,\n    variantPrefix = 'listing-card'\n  } = config.listing;\n  const variants = firstImage ? Object.keys(firstImage === null || firstImage === void 0 ? void 0 : (_firstImage$attribute = firstImage.attributes) === null || _firstImage$attribute === void 0 ? void 0 : _firstImage$attribute.variants).filter(k => k.startsWith(variantPrefix)) : []; // Action bar is wrapped with a div that prevents the click events\n  // to the parent that would otherwise open the image carousel\n\n  const actionBar = listing.id ? /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ActionBarMaybe, {\n    className: css.actionBarForHeroLayout,\n    isOwnListing: isOwnListing,\n    listing: listing,\n    editParams: editParams,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  })) : null;\n  const viewPhotosButton = hasImages ? /*#__PURE__*/React.createElement(\"button\", {\n    className: css.viewPhotos,\n    onClick: handleViewPhotosClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ListingPage.viewImagesButton\",\n    values: {\n      count: listing.images.length\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  })) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: css.sectionImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AspectRatioWrapper, {\n    className: css.imageWrapperForSectionImage,\n    width: aspectWidth,\n    height: aspectHeight,\n    onClick: handleViewPhotosClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, actionBar, /*#__PURE__*/React.createElement(ResponsiveImage, {\n    rootClassName: css.rootForImage,\n    alt: title,\n    image: firstImage,\n    variants: variants,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), viewPhotosButton), /*#__PURE__*/React.createElement(Modal, {\n    id: \"ListingPage.imageCarousel\",\n    scrollLayerClassName: css.carouselModalScrollLayer,\n    containerClassName: css.carouselModalContainer,\n    lightCloseButton: true,\n    isOpen: imageCarouselOpen,\n    onClose: onImageCarouselClose,\n    usePortal: true,\n    onManageDisableScrolling: onManageDisableScrolling,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ImageCarousel, {\n    images: listing.images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })));\n};\n\n_c = SectionImages;\nexport default SectionImages;\n\nvar _c;\n\n$RefreshReg$(_c, \"SectionImages\");","map":{"version":3,"sources":["/Users/harryholcomb/Desktop/React Native/GitHub/Sharetribe/ftw-product/src/containers/ListingPage/SectionImages.js"],"names":["React","config","FormattedMessage","AspectRatioWrapper","ResponsiveImage","Modal","ImageCarousel","ActionBarMaybe","css","SectionImages","props","title","listing","isOwnListing","editParams","handleViewPhotosClick","imageCarouselOpen","onImageCarouselClose","onManageDisableScrolling","hasImages","images","length","firstImage","aspectWidth","aspectHeight","variantPrefix","variants","Object","keys","attributes","filter","k","startsWith","actionBar","id","e","stopPropagation","actionBarForHeroLayout","viewPhotosButton","viewPhotos","count","sectionImages","imageWrapperForSectionImage","rootForImage","carouselModalScrollLayer","carouselModalContainer"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport config from '../../config';\nimport { FormattedMessage } from '../../util/reactIntl';\nimport { AspectRatioWrapper, ResponsiveImage, Modal } from '../../components';\n\nimport ImageCarousel from './ImageCarousel/ImageCarousel';\nimport ActionBarMaybe from './ActionBarMaybe';\n\nimport css from './ListingPage.module.css';\n\nconst SectionImages = props => {\n  const {\n    title,\n    listing,\n    isOwnListing,\n    editParams,\n    handleViewPhotosClick,\n    imageCarouselOpen,\n    onImageCarouselClose,\n    onManageDisableScrolling,\n  } = props;\n\n  const hasImages = listing.images && listing.images.length > 0;\n  const firstImage = hasImages ? listing.images[0] : null;\n  const { aspectWidth, aspectHeight, variantPrefix = 'listing-card' } = config.listing;\n  const variants = firstImage\n    ? Object.keys(firstImage?.attributes?.variants).filter(k => k.startsWith(variantPrefix))\n    : [];\n\n  // Action bar is wrapped with a div that prevents the click events\n  // to the parent that would otherwise open the image carousel\n  const actionBar = listing.id ? (\n    <div onClick={e => e.stopPropagation()}>\n      <ActionBarMaybe\n        className={css.actionBarForHeroLayout}\n        isOwnListing={isOwnListing}\n        listing={listing}\n        editParams={editParams}\n      />\n    </div>\n  ) : null;\n\n  const viewPhotosButton = hasImages ? (\n    <button className={css.viewPhotos} onClick={handleViewPhotosClick}>\n      <FormattedMessage\n        id=\"ListingPage.viewImagesButton\"\n        values={{ count: listing.images.length }}\n      />\n    </button>\n  ) : null;\n\n  return (\n    <div className={css.sectionImages}>\n      <AspectRatioWrapper\n        className={css.imageWrapperForSectionImage}\n        width={aspectWidth}\n        height={aspectHeight}\n        onClick={handleViewPhotosClick}\n      >\n        {actionBar}\n        <ResponsiveImage\n          rootClassName={css.rootForImage}\n          alt={title}\n          image={firstImage}\n          variants={variants}\n        />\n        {viewPhotosButton}\n      </AspectRatioWrapper>\n      <Modal\n        id=\"ListingPage.imageCarousel\"\n        scrollLayerClassName={css.carouselModalScrollLayer}\n        containerClassName={css.carouselModalContainer}\n        lightCloseButton\n        isOpen={imageCarouselOpen}\n        onClose={onImageCarouselClose}\n        usePortal\n        onManageDisableScrolling={onManageDisableScrolling}\n      >\n        <ImageCarousel images={listing.images} />\n      </Modal>\n    </div>\n  );\n};\n\nexport default SectionImages;\n"]},"metadata":{},"sourceType":"module"}